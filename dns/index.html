<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DNS Rebind Resolver Documentation</title>
    <style>
        :root {
            --bg-body: #0f1117;
            --bg-card: #161b22;
            --bg-code: #0d1117;
            --border-color: #30363d;
            --text-primary: #c9d1d9;
            --text-secondary: #8b949e;
            --accent-color: #58a6ff;
            --accent-hover: #79c0ff;
            --code-green: #7ee787;
            --code-blue: #79c0ff;
            --code-purple: #d2a8ff;
            --code-red: #ff7b72;
            --code-orange: #d19a66;
            --font-mono: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
            --font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            background-color: var(--bg-body);
            color: var(--text-primary);
            font-family: var(--font-sans);
            line-height: 1.6;
            padding: 2rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        /* Header */
        header {
            margin-bottom: 2rem;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 1.5rem;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            color: #ffffff;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        /* Sections */
        section {
            margin-bottom: 3rem;
        }

        h2 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: #ffffff;
            border-left: 4px solid var(--accent-color);
            padding-left: 1rem;
        }

        h3 {
            font-size: 1.1rem;
            margin-top: 1.5rem;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        p {
            margin-bottom: 1rem;
            color: var(--text-secondary);
        }

        /* Code Blocks & Typography */
        code {
            font-family: var(--font-mono);
            background-color: rgba(110, 118, 129, 0.4);
            padding: 0.2em 0.4em;
            border-radius: 4px;
            font-size: 0.9em;
            color: var(--text-primary);
        }

        pre {
            background-color: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 1rem;
            overflow-x: auto;
            margin-bottom: 1.5rem;
        }

        pre code {
            background-color: transparent;
            padding: 0;
            color: var(--text-primary);
        }

        /* Syntax Highlighting Simulators */
        .token-keyword { color: var(--accent-color); }
        .token-string { color: var(--code-green); }
        .token-comment { color: var(--text-secondary); font-style: italic; }
        .token-var { color: var(--code-purple); }
        .token-op { color: var(--code-orange); font-weight: bold; }
        .token-error { color: var(--code-red); }

        /* Lists */
        ul {
            list-style-position: inside;
            margin-bottom: 1.5rem;
            color: var(--text-secondary);
        }

        li {
            margin-bottom: 0.5rem;
        }

        li strong {
            color: var(--text-primary);
        }

        /* Cards/Callouts */
        .note {
            background-color: rgba(56, 139, 253, 0.15);
            border-left: 4px solid var(--accent-color);
            padding: 1rem;
            border-radius: 0 4px 4px 0;
            margin-bottom: 1.5rem;
        }

        .note-title {
            font-weight: bold;
            color: var(--accent-color);
            margin-bottom: 0.5rem;
            display: block;
        }

        /* Disclaimer Box */
        .disclaimer {
            background-color: rgba(255, 123, 114, 0.1);
            border-left: 4px solid var(--code-red);
            padding: 1rem;
            border-radius: 0 4px 4px 0;
            margin-bottom: 2rem;
            color: var(--text-secondary);
        }

        .disclaimer-title {
            font-weight: bold;
            color: var(--code-red);
            margin-bottom: 0.5rem;
            display: block;
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 0.05em;
        }
        
        .disclaimer ul {
            margin-bottom: 0;
        }

        /* Tables for params */
        .param-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1.5rem;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            overflow: hidden;
        }

        .param-table th, .param-table td {
            text-align: left;
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .param-table th {
            background-color: #21262d;
            color: var(--text-primary);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .param-table td {
            color: var(--text-secondary);
        }

        .tag {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: bold;
            font-family: var(--font-mono);
        }
        .tag-req { background: rgba(210, 168, 255, 0.15); color: var(--code-purple); }
        .tag-opt { background: rgba(126, 231, 135, 0.15); color: var(--code-green); }
        .tag-special { background: rgba(255, 123, 114, 0.15); color: var(--code-red); }

    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>DNS Rebind Generator</h1>
        <div class="subtitle">Dynamic DNS resolution control for testing and security research.</div>
    </header>

    <div class="disclaimer">
        <span class="disclaimer-title">Notice & Disclaimer</span>
        <ul>
            <li><strong>Service Availability:</strong> I do not guarantee the availability, uptime, or reliability of this service. It is provided "as-is." Feedback can be sent via Discord DM to <code>@haruna38</code> (or <code>Haruna#5879</code>).</li>
            <li><strong>Legal Warning:</strong> I accept no responsibility for any damage caused by the use of this tool. This service is intended strictly for <strong>educational purposes and security research only</strong>.</li>
        </ul>
    </div>

    <section>
        <h2>Base Endpoints</h2>
        <p>The service listens on the following wildcard domains. All configuration is done via the subdomain string.</p>
        <pre><code><span class="token-var">&lt;pattern&gt;</span>.<span class="token-var">&lt;id&gt;</span>.dns.is-now.online
<span class="token-var">&lt;pattern&gt;</span>.<span class="token-var">&lt;id&gt;</span>.rdns.is-now.online</code></pre>
    </section>

    <section>
        <h2>Supported Record Types</h2>
        <p>This service implements specific behaviors for different DNS query types to facilitate testing.</p>
        
        <table class="param-table">
            <thead>
                <tr>
                    <th style="width: 15%">Type</th>
                    <th>Behavior</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>A</code></td>
                    <td><strong>Processed.</strong> Returns the IPv4 address(es) according to the configured pattern logic.</td>
                </tr>
                <tr>
                    <td><code>AAAA</code></td>
                    <td><strong>NODATA.</strong> The server purposely returns an empty response (No Data/NOERROR) to indicate no IPv6 address exists.</td>
                </tr>
                <tr>
                    <td><code>Others</code></td>
                    <td><strong>NXDOMAIN.</strong> Any other record type (TXT, CNAME, MX, etc.) immediately returns a Non-Existent Domain error.</td>
                </tr>
            </tbody>
        </table>
    </section>

    <section>
        <h2>Pattern Construction</h2>
        <p>The <code>&lt;pattern&gt;</code> controls the sequence of IP addresses returned by the resolver. It is constructed by joining <strong>tokens</strong> with a dash (<code>-</code>).</p>

        <table class="param-table">
            <thead>
                <tr>
                    <th>Token</th>
                    <th>Type</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>i&lt;ip_hex&gt;</code></td>
                    <td><span class="tag tag-req">Resolution</span></td>
                    <td>
                        IP address in hexadecimal format. <br>
                        Example: <code>i7f000001</code> resolves to <code>127.0.0.1</code>.
                    </td>
                </tr>
                <tr>
                    <td><code>d</code></td>
                    <td><span class="tag tag-special">Resolution</span></td>
                    <td>
                        <strong>Drop / No Data.</strong> Returns an empty response (NODATA). Useful for testing fallback behaviors.
                    </td>
                </tr>
                <tr>
                    <td><code>x</code></td>
                    <td><span class="tag tag-special">Resolution</span></td>
                    <td>
                        <strong>NXDOMAIN.</strong> Returns a "Non-Existent Domain" error.
                    </td>
                </tr>
                <tr>
                    <td><code>&lt;count&gt;</code></td>
                    <td><span class="tag tag-opt">Modifier</span></td>
                    <td>
                        <strong>Must follow a resolution token (i, d, or x).</strong> Determines how many times that result is returned before moving to the next one. Defaults to <code>1</code>.
                    </td>
                </tr>
                <tr>
                    <td><code>r</code></td>
                    <td><span class="tag tag-opt">Control</span></td>
                    <td>
                        <strong>Repeat Flag.</strong> Must be at the very end of the pattern. If present, the sequence restarts from the beginning after completion. If absent, the resolver sticks to the last result forever.
                    </td>
                </tr>
            </tbody>
        </table>
    </section>

    <section>
        <h2>Standard Examples</h2>
        
        <h3>1. Static Resolution</h3>
        <p>Return <code>127.0.0.1</code> every time.</p>
        <pre><code>i7f000001.myid.dns.is-now.online</code></pre>

        <h3>2. Basic Rebind (One-way)</h3>
        <p>Return <code>127.0.0.1</code> once, then switch to <code>8.8.8.8</code> (3 times), then stay at <code>8.8.8.8</code> forever.</p>
        <pre><code><span class="token-comment"># 127.0.0.1 (x1) -> 8.8.8.8 (x3) -> [Lock on 8.8.8.8]</span>
i7f000001-i08080808-3.attacker.dns.is-now.online</code></pre>

        <h3>3. Error & Drop Testing</h3>
        <p>Return <code>127.0.0.1</code> once, then fail with <code>NXDOMAIN</code> twice, then return <code>NODATA</code> (Drop) 5 times, then repeat.</p>
        <pre><code><span class="token-comment"># 127.0.0.1 (x1) -> NXDOMAIN (x2) -> NODATA (x5) -> Repeat</span>
i7f000001-x-2-d-5-r.attacker.dns.is-now.online</code></pre>
    </section>

    <section>
        <h2>Advanced: Multiple Answers</h2>
        <p>You can chain multiple patterns together using the plus sign <code>+</code>. This allows you to construct complex responses containing multiple IP addresses (Round Robin) or mix different status codes.</p>
        
        <pre><code><span class="token-var">&lt;pattern1&gt;</span><span class="token-op">+</span><span class="token-var">&lt;pattern2&gt;</span><span class="token-op">+</span><span class="token-var">&lt;pattern3&gt;</span></code></pre>

        <h3>Aggregation Logic</h3>
        <p>When multiple rules are combined, the final response is determined by the following priority:</p>
        <ul>
            <li>
                <strong>Success (IPs):</strong> If <em>at least one</em> rule returns an IP, all valid IPs are returned in the response (A Records). 
                The IPs are returned in the exact order they are defined in the URL (left to right).
                Errors from other rules are ignored.
            </li>
            <li><strong>NODATA (Empty):</strong> If no rules return an IP, but at least one rule returns <code>NODATA</code> (d), the result is an empty success response (No Answer).</li>
            <li><strong>NXDOMAIN (Error):</strong> The response is <code>NXDOMAIN</code> only if <strong>ALL</strong> rules return <code>NXDOMAIN</code> (x).</li>
        </ul>

        <h3>Multi-Answer Examples</h3>
        <div class="note">
            <span class="note-title">Example 1: Multiple IPs (Ordered)</span>
            <p>Returns <code>127.0.0.1</code> first, followed by <code>8.8.8.8</code> in the DNS answer list.</p>
            <code>i7f000001+i08080808.myid.dns.is-now.online</code>
        </div>

        <div class="note">
            <span class="note-title">Example 2: IP takes priority over Error</span>
            <p>Even though one rule says NXDOMAIN (x), the IP exists, so 127.0.0.1 is returned.</p>
            <code>i7f000001+x.myid.dns.is-now.online</code>
        </div>

        <div class="note">
            <span class="note-title">Example 3: Partial Failure (NODATA)</span>
            <p>One rule says NXDOMAIN (x), one says Drop (d). Result is NODATA (Empty response, no error).</p>
            <code>x+d.myid.dns.is-now.online</code>
        </div>
    </section>

    <section>
        <h2>Session Management</h2>
        
        <h3>The ID Parameter</h3>
        <p>The <code>&lt;id&gt;</code> component is a user-defined namespace used to track the state of your request counts. This prevents your tests from being polluted by other users.</p>
        <ul>
            <li><strong>Uniqueness:</strong> Use a random string or a unique name (e.g., <code>my_test_v1</code>).</li>
            <li><strong>Scope:</strong> Request counts are shared across all patterns using the same ID.</li>
            <li><strong>TTL:</strong> An ID session persists for <strong>24 hours</strong> from the first request.</li>
        </ul>

        <h3>Resetting State</h3>
        <p>To reset the request counters for a specific ID without waiting for the timeout, query the <code>reset</code> keyword.</p>
        <pre><code>reset.<span class="token-var">&lt;your_id&gt;</span>.dns.is-now.online</code></pre>
        <p><strong>Note:</strong> This operation always returns a <code>NODATA</code> response to indicate success.</p>
    </section>

</div>

</body>
</html>
